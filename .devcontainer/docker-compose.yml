# NOTE: This file requires .env generated by scripts/initialize.sh
# Do not run docker-compose directly - use VS Code "Reopen in Container"
services:
  ofrak:
    build:
      context: ..
      dockerfile: .devcontainer/Dockerfile
      args:
        OFRAK_BASE_IMAGE: ${OFRAK_BASE_IMAGE}
        USERNAME: ${USERNAME}
        WORKSPACE_FOLDER: ${WORKSPACE_FOLDER}
    volumes:
      - ${WORKSPACE_FOLDER}:${WORKSPACE_FOLDER}:cached
    environment:
      - OFRAK_START_GHIDRA_SERVER=${OFRAK_START_GHIDRA_SERVER-}
    command: sleep infinity

volumes:
  ofrak-global-pip-cache:
    external: true
